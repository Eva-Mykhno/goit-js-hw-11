{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/img/octagon.svg","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\n\nfunction templatePhotos(images) {\n  return images\n    .map(image => {\n      return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      data-source=\"${image.largeImageURL}\"\n      alt=\"Tags: ${image.tags}. Likes: ${image.likes},   Views: ${image.views},   Comments: ${image.comments},   Downloads: ${image.downloads}\"\n    />\n  </a>\n  <div class=\"gallery-item-info\">\n  <p class=\"info-image\"><b class=\"info-image-text\">Likes</b><span class=\"info-image-number\">${image.likes}</span></p>\n  <p class=\"info-image\"><b class=\"info-image-text\">Views</b><span class=\"info-image-number\">${image.views}</span></p>\n  <p class=\"info-image\"><b class=\"info-image-text\">Comments</b><span class=\"info-image-number\">${image.comments}</span></p>\n  <p class=\"info-image\"><b class=\"info-image-text\">Downloads</b><span class=\"info-image-number\">${image.downloads}</span></p>\n  </div>\n</li>`;\n    })\n    .join('');\n}\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  overlayOpacity: 0.8,\n  captionsData: 'alt',\n  captionDelay: 250,\n  className: 'modal-image',\n});\n\nexport function renderPhotos(images) {\n  const markUp = templatePhotos(images);\n  gallery.insertAdjacentHTML('afterbegin', markUp);\n  lightbox.refresh();\n}\n","export function getPhotos(input) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '20488832-3f7ee310b3351fba3525ae600',\n    q: input,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.statusText);\n    }\n    return res.json();\n  });\n}\n","export default \"__VITE_ASSET__de411352__\"","import { renderPhotos } from './js/render-functions.js';\nimport { getPhotos } from './js/pixabay-api.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport octagon from '../src/img/octagon.svg';\n\nconst form = document.querySelector('.form');\nconst galleryContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst searchBtn = document.querySelector('.search-btn');\n\nsearchBtn.disabled = true;\n\nloaderHide();\n\nform.input.addEventListener('input', () => {\n  searchBtn.disabled = !form.input.value.trim();\n});\n\nform.addEventListener('submit', onGallery);\n\nfunction onGallery(event) {\n  event.preventDefault();\n\n  galleryContainer.innerHTML = '';\n\n  loaderShow();\n\n  const userValue = event.target.elements.input.value.trim();\n\n  if (!userValue) {\n    return;\n  }\n\n  searchBtn.disabled = true;\n\n  getPhotos(userValue)\n    .then(data => {\n      if (data && data.hits && data.hits.length) {\n        renderPhotos(data.hits);\n      } else {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        message: error.message,\n        position: 'topRight',\n        backgroundColor: '#EF4040',\n        theme: 'dark',\n        iconUrl: octagon,\n        maxWidth: 354,\n        messageSize: '16',\n      });\n    })\n    .finally(() => {\n      loaderHide();\n      searchBtn.disabled = true;\n    });\n\n  form.reset();\n}\n\nfunction loaderShow() {\n  loader.style.display = 'inline-block';\n}\n\nfunction loaderHide() {\n  loader.style.display = 'none';\n}\n"],"names":["gallery","templatePhotos","images","image","lightbox","SimpleLightbox","renderPhotos","markUp","getPhotos","input","BASE_URL","params","url","res","octagon","form","galleryContainer","loader","searchBtn","loaderHide","onGallery","event","loaderShow","userValue","data","error","iziToast"],"mappings":"6vBAGA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAeC,EAAQ,CAC9B,OAAOA,EACJ,IAAIC,GACI;AAAA,kCACqBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGxCA,EAAM,YAAY;AAAA,qBACVA,EAAM,aAAa;AAAA,mBACrBA,EAAM,IAAI,YAAYA,EAAM,KAAK,cAAcA,EAAM,KAAK,iBAAiBA,EAAM,QAAQ,kBAAkBA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,8FAI/CA,EAAM,KAAK;AAAA,8FACXA,EAAM,KAAK;AAAA,iGACRA,EAAM,QAAQ;AAAA,kGACbA,EAAM,SAAS;AAAA;AAAA,MAG5G,EACA,KAAK,EAAE,CACZ,CAEA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,eAAgB,GAChB,aAAc,MACd,aAAc,IACd,UAAW,aACb,CAAC,EAEM,SAASC,EAAaJ,EAAQ,CACnC,MAAMK,EAASN,EAAeC,CAAM,EACpCF,EAAQ,mBAAmB,aAAcO,CAAM,EAC/CH,EAAS,QAAO,CAClB,CCvCO,SAASI,EAAUC,EAAO,CAC/B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,UAAU,EAEhC,OAAOA,EAAI,MACf,CAAG,CACH,CClBA,MAAeC,EAAA,6CCQTC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAY,SAAS,cAAc,aAAa,EAEtDA,EAAU,SAAW,GAErBC,IAEAJ,EAAK,MAAM,iBAAiB,QAAS,IAAM,CACzCG,EAAU,SAAW,CAACH,EAAK,MAAM,MAAM,MACzC,CAAC,EAEDA,EAAK,iBAAiB,SAAUK,CAAS,EAEzC,SAASA,EAAUC,EAAO,CACxBA,EAAM,eAAc,EAEpBL,EAAiB,UAAY,GAE7BM,IAEA,MAAMC,EAAYF,EAAM,OAAO,SAAS,MAAM,MAAM,OAE/CE,IAILL,EAAU,SAAW,GAErBV,EAAUe,CAAS,EAChB,KAAKC,GAAQ,CACZ,GAAIA,GAAQA,EAAK,MAAQA,EAAK,KAAK,OACjClB,EAAakB,EAAK,IAAI,MAEtB,OAAM,IAAI,MACR,0EACV,CAEA,CAAK,EACA,MAAMC,GAAS,CACdC,EAAS,MAAM,CACb,QAASD,EAAM,QACf,SAAU,WACV,gBAAiB,UACjB,MAAO,OACP,QAASX,EACT,SAAU,IACV,YAAa,IACrB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbK,IACAD,EAAU,SAAW,EAC3B,CAAK,EAEHH,EAAK,MAAK,EACZ,CAEA,SAASO,GAAa,CACpBL,EAAO,MAAM,QAAU,cACzB,CAEA,SAASE,GAAa,CACpBF,EAAO,MAAM,QAAU,MACzB"}